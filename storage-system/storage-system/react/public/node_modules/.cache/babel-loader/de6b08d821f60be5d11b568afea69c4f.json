{"ast":null,"code":"import _regeneratorRuntime from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/src/components/business/forms/view-blocks.js\";\nimport React from 'react';\nimport * as actions from '../../../actions/view-blocks';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { Redirect } from 'react-router';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nvar ViewBlocks =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ViewBlocks, _React$Component);\n\n  function ViewBlocks(props) {\n    var _this;\n\n    _classCallCheck(this, ViewBlocks);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ViewBlocks).call(this, props));\n    _this.state = {\n      blocksDetail: [],\n      selectedBlock: _this.props.select,\n      redirect: false\n    };\n    _this.blocksDetails = _this.blocksDetails.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.submitData = _this.submitData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ViewBlocks, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.blocksDetails();\n    }\n  }, {\n    key: \"blocksDetails\",\n    value: function () {\n      var _blocksDetails = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var blocks, blocksD;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(\"http://localhost:3003/block/\" + this.props.selectedBusiness);\n\n              case 2:\n                blocks = _context.sent;\n                blocksD = blocks.data;\n                this.setState({\n                  blocksDetail: blocksD\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function blocksDetails() {\n        return _blocksDetails.apply(this, arguments);\n      }\n\n      return blocksDetails;\n    }()\n  }, {\n    key: \"submitData\",\n    value: function submitData() {\n      this.setState({\n        redirect: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if (this.state.redirect) {\n        return React.createElement(Redirect, {\n          to: \"/unit-type\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"topnav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: '/business',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"Business\"), React.createElement(Link, {\n        to: '/view-business',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, \"view-business\"), React.createElement(Link, {\n        to: '/location',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, \"Location\"), React.createElement(Link, {\n        to: '/blocks',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"blocks\"), React.createElement(Link, {\n        to: '/view-blocks',\n        className: \"active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, \"view-blocks\"), React.createElement(Link, {\n        to: '/unit-type',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"unit-type\"), React.createElement(Link, {\n        to: '/units',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"units\"), React.createElement(Link, {\n        to: '/log-out',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Log-out\"), React.createElement(Link, {\n        to: '/business-unites',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"View Reserved unites\")), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"select your blocks\"), React.createElement(\"div\", {\n        className: \"view-business\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        onChange: function onChange(e) {\n          return _this2.props.setTheBlock(e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"Select business\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Select block:\"), this.state.blocksDetail.length > 0 ? this.state.blocksDetail.map(function (item) {\n        return React.createElement(\"option\", {\n          key: _this2.state.blocksDetail.indexOf(item),\n          value: item.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, item.name);\n      }) : null), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"next\",\n        onClick: this.submitData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"next\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return ViewBlocks;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    select: state.viewBlock.selectedBlock,\n    selectedBusiness: state.viewBusiness.selectedBusiness,\n    state: state\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    setTheBlock: function setTheBlock(name) {\n      dispatch(actions.blockName(name));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewBlocks);","map":{"version":3,"sources":["/home/tcgpc1/workspace/Assignments/storage-system/storage-system/src/components/business/forms/view-blocks.js"],"names":["React","actions","connect","axios","Redirect","BrowserRouter","Router","Route","Link","ViewBlocks","props","state","blocksDetail","selectedBlock","select","redirect","blocksDetails","bind","submitData","get","selectedBusiness","blocks","blocksD","data","setState","e","setTheBlock","target","value","length","map","item","indexOf","name","Component","mapStateToProps","viewBlock","viewBusiness","mapDispatchToProps","dispatch","blockName"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as actions from '../../../actions/view-blocks';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { Redirect } from 'react-router';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\n\nclass ViewBlocks extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            blocksDetail: [],\n            selectedBlock: this.props.select,\n            redirect: false,\n        }\n        this.blocksDetails = this.blocksDetails.bind(this);\n        this.submitData = this.submitData.bind(this)\n    }\n    componentDidMount() {\n        this.blocksDetails()\n    }\n\n    async blocksDetails() {\n        var blocks = await axios.get(\"http://localhost:3003/block/\" + this.props.selectedBusiness)\n          var blocksD = blocks.data;\n           this.setState({ blocksDetail: blocksD })\n    }\n\n    submitData() {\n        this.setState({ redirect: true })\n    }\n\n\n    render() {\n        if (this.state.redirect) {\n            return <Redirect to='/unit-type' />\n        }\n        return (<div>\n        <div className=\"topnav\">\n        < Link to={'/business'} >Business</Link>\n        <Link to={'/view-business'} >view-business</Link>\n        <Link to={'/location'} >Location</Link>\n        <Link to={'/blocks'} >blocks</Link>\n        <Link to={'/view-blocks'}className=\"active\" >view-blocks</Link>\n        <Link to={'/unit-type'}>unit-type</Link>\n        <Link to={'/units'}>units</Link>\n        <Link to={'/log-out'}>Log-out</Link>\n        <Link to={'/business-unites'}>View Reserved unites</Link>\n    </div>\n            <h2>select your blocks</h2>\n            <div className=\"view-business\">\n                <select onChange={(e) => this.props.setTheBlock(e.target.value)}>\n                    <option value=\"Select business\">Select block:</option>\n                    {this.state.blocksDetail.length > 0 ? this.state.blocksDetail.map(item => {\n                        return <option key={this.state.blocksDetail.indexOf(item)} value={item.name}>{item.name}</option>\n                    }) : null}\n                </select><br/>\n            <button className=\"next\" onClick={this.submitData}>next</button><br />\n            </div>\n        </div>)\n    }\n}\nconst mapStateToProps = (state) => {\n    return {\n        select: state.viewBlock.selectedBlock,\n        selectedBusiness: state.viewBusiness.selectedBusiness,\n        state: state\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setTheBlock: name => {\n            dispatch(actions.blockName(name))\n        },\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewBlocks)\n"]},"metadata":{},"sourceType":"module"}