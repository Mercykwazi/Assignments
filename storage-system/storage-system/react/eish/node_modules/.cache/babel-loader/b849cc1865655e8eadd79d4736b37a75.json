{"ast":null,"code":"import _regeneratorRuntime from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/src/components/business/forms/business.js\";\nimport React from 'react';\nimport * as actions from '../../../actions/business';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport { protectRoutes } from '../../protectedRoutes';\nimport history from '../../../history';\n\nvar Business =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Business, _React$Component);\n\n  function Business(props) {\n    var _this;\n\n    _classCallCheck(this, Business);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Business).call(this, props));\n    _this.state = {\n      input: '',\n      businessName: _this.props.name,\n      contactName: _this.props.contactName,\n      telephone: _this.props.telephone,\n      email: _this.props.email,\n      errorPresent: false,\n      errorMessage: \"\"\n    };\n    _this.businessName = _this.businessName.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.contactName = _this.contactName.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.telephone = _this.telephone.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.email = _this.email.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.saveData = _this.saveData.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Business, [{\n    key: \"email\",\n    value: function email(e) {\n      var change = {};\n      change[e.target.name] = e.target.value;\n      this.props.updateEmail(e.target.value);\n      this.setState(change);\n    }\n  }, {\n    key: \"businessName\",\n    value: function businessName(e) {\n      var change = {};\n      change[e.target.name] = e.target.value;\n      this.props.updateName(e.target.value);\n      this.setState(change);\n    }\n  }, {\n    key: \"contactName\",\n    value: function contactName(e) {\n      var change = {};\n      change[e.target.name] = e.target.value;\n      this.props.updateContactName(e.target.value);\n      this.setState(change);\n    }\n  }, {\n    key: \"telephone\",\n    value: function telephone(e) {\n      var change = {};\n      change[e.target.name] = e.target.value;\n      this.props.updateTelephone(e.target.value);\n      this.setState(change);\n    }\n  }, {\n    key: \"saveData\",\n    value: function () {\n      var _saveData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var businessDetails, api;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                businessDetails = {\n                  businessName: this.props.name,\n                  contactName: this.props.contactName,\n                  phoneNumber: this.props.telephone,\n                  email: this.props.email\n                };\n                _context.next = 4;\n                return axios.post(\"http://localhost:3003/business\", businessDetails, protectRoutes());\n\n              case 4:\n                api = _context.sent;\n\n                if (api.status === 200) {\n                  history.push('/view-business');\n                } else if (api.status === 203) {\n                  this.setState({\n                    errorMessage: api.data.message,\n                    errorPresent: true,\n                    input: ''\n                  });\n                }\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function saveData(_x) {\n        return _saveData.apply(this, arguments);\n      }\n\n      return saveData;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"topnav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: '/business',\n        className: \"active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Business\"), React.createElement(Link, {\n        to: '/view-business',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"view-business\"), React.createElement(Link, {\n        to: '/location',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Location\"), React.createElement(Link, {\n        to: '/blocks',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"blocks\"), React.createElement(Link, {\n        to: '/view-blocks',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"view-blocks\"), React.createElement(Link, {\n        to: '/unit-type',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"unit-type\"), React.createElement(Link, {\n        to: '/units',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"units\"), React.createElement(Link, {\n        to: '/log-out',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Log-out\"), React.createElement(Link, {\n        to: '/business-unites',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"View Reserved unites\")), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Register Your Business Below\"), this.state.errorPresent && React.createElement(\"h3\", {\n        style: {\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, this.state.errorMessage), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"business\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Business Name:\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        name: \"businessName\",\n        type: \"text\",\n        onChange: this.businessName,\n        value: this.state.businessName,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Email:\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        name: \"email\",\n        type: \"email\",\n        onChange: this.email,\n        value: this.state.email,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"telephone\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Telephone:\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        name: \"telephone\",\n        type: \"tel\",\n        onChange: this.telephone,\n        value: this.state.telephone,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"button\",\n        onClick: this.saveData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"submit\"))));\n    }\n  }]);\n\n  return Business;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    name: state.business.name,\n    contactName: state.business.contact_name,\n    telephone: state.business.contactTelephone,\n    email: state.business.contactEmail,\n    state: state\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    updateName: function updateName(name) {\n      dispatch(actions.businessName(name));\n    },\n    updateContactName: function updateContactName(contactName) {\n      dispatch(actions.contactName(contactName));\n    },\n    updateTelephone: function updateTelephone(tel) {\n      dispatch(actions.telephone(tel));\n    },\n    updateEmail: function updateEmail(email) {\n      dispatch(actions.email(email));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Business);","map":{"version":3,"sources":["/home/tcgpc1/workspace/Assignments/storage-system/storage-system/src/components/business/forms/business.js"],"names":["React","actions","connect","axios","BrowserRouter","Router","Route","Link","protectRoutes","history","Business","props","state","input","businessName","name","contactName","telephone","email","errorPresent","errorMessage","bind","saveData","e","change","target","value","updateEmail","setState","updateName","updateContactName","updateTelephone","preventDefault","businessDetails","phoneNumber","post","api","status","push","data","message","color","Component","mapStateToProps","business","contact_name","contactTelephone","contactEmail","mapDispatchToProps","dispatch","tel"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as actions from '../../../actions/business'\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport { protectRoutes } from '../../protectedRoutes'\nimport history from '../../../history'\n\nclass Business extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            input: '',\n            businessName: this.props.name,\n            contactName: this.props.contactName,\n            telephone: this.props.telephone,\n            email: this.props.email,\n            errorPresent: false,\n            errorMessage: \"\"\n        }\n        this.businessName = this.businessName.bind(this)\n        this.contactName = this.contactName.bind(this)\n        this.telephone = this.telephone.bind(this)\n        this.email = this.email.bind(this)\n        this.saveData = this.saveData.bind(this)\n    }\n\n    email(e) {\n        var change = {};\n        change[e.target.name] = e.target.value;\n        this.props.updateEmail(e.target.value)\n        this.setState(change);\n    }\n\n    businessName(e) {\n        var change = {};\n        change[e.target.name] = e.target.value;\n        this.props.updateName(e.target.value)\n        this.setState(change);\n    }\n    contactName(e) {\n        var change = {};\n        change[e.target.name] = e.target.value;\n        this.props.updateContactName(e.target.value)\n        this.setState(change);\n    }\n    telephone(e) {\n        var change = {};\n        change[e.target.name] = e.target.value;\n        this.props.updateTelephone(e.target.value)\n        this.setState(change);\n    }\n    async saveData(e) {\n        e.preventDefault()\n        var businessDetails = {\n            businessName: this.props.name,\n            contactName: this.props.contactName,\n            phoneNumber: this.props.telephone,\n            email: this.props.email\n        }\n        var api = await axios.post(\"http://localhost:3003/business\", businessDetails, protectRoutes())\n        if (api.status === 200) {\n            history.push('/view-business')\n\n        } else if (api.status === 203) {\n            this.setState({ errorMessage: api.data.message, errorPresent: true, input: '' })\n        }\n    }\n\n    render() {\n        return (<div>\n            <div className=\"topnav\">\n                < Link to={'/business'} className=\"active\">Business</Link>\n                <Link to={'/view-business'}>view-business</Link>\n                <Link to={'/location'}>Location</Link>\n                <Link to={'/blocks'}>blocks</Link>\n                <Link to={'/view-blocks'}>view-blocks</Link>\n                <Link to={'/unit-type'}>unit-type</Link>\n                <Link to={'/units'}>units</Link>\n                <Link to={'/log-out'}>Log-out</Link>\n                <Link to={'/business-unites'}>View Reserved unites</Link>\n            </div>\n            <h1 >Register Your Business Below</h1>\n            {this.state.errorPresent && (\n                <h3 style={{ color: \"white\" }}>{this.state.errorMessage}</h3>\n            )}\n            <form>\n                <div className=\"business\">\n                    <div >\n                        <label htmlFor=\"firstName\" >Business Name:</label><br />\n                        <input name=\"businessName\" type=\"text\" onChange={this.businessName} value={this.state.businessName} required />\n                    </div>\n                    <br />\n                    <div >\n                        <label htmlFor=\"email\">Email:</label><br />\n                        <input name=\"email\" type=\"email\" onChange={this.email} value={this.state.email} required />\n                    </div><br/>\n                    <div >\n                        <label htmlFor=\"telephone\">Telephone:</label><br />\n                        <input name=\"telephone\" type=\"tel\" onChange={this.telephone} value={this.state.telephone} required />\n                    </div>\n                    <br />\n                  \n                    <button className=\"button\" onClick={this.saveData}>submit</button>\n                </div>\n            </form>\n\n        </div>\n        )\n    }\n\n}\nconst mapStateToProps = (state) => {\n    return {\n        name: state.business.name,\n        contactName: state.business.contact_name,\n        telephone: state.business.contactTelephone,\n        email: state.business.contactEmail,\n        state: state\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        updateName: name => {\n            dispatch(actions.businessName(name))\n        },\n        updateContactName: contactName => {\n            dispatch(actions.contactName(contactName))\n        },\n        updateTelephone: tel => {\n            dispatch(actions.telephone(tel))\n        }, updateEmail: email => {\n            dispatch(actions.email(email))\n        }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Business)\n\n"]},"metadata":{},"sourceType":"module"}