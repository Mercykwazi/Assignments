{"ast":null,"code":"import _regeneratorRuntime from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/src/components/customer/selectUnitType.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/selectUnits';\nimport axios from 'axios';\nimport { log } from 'util';\nimport { Field, reduxForm } from 'redux-form';\nimport { Redirect } from 'react-router';\nimport { protectRoutes } from '../protectedRoutes';\nimport history from \"../../history\";\n\nvar ViewUnitType =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ViewUnitType, _React$Component);\n\n  function ViewUnitType(props) {\n    var _this;\n\n    _classCallCheck(this, ViewUnitType);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ViewUnitType).call(this, props));\n    _this.state = {\n      unitTypeDetail: [],\n      availableUnitType: _this.props.availableUnitType,\n      redirect: false,\n      selectedUnitType: _this.props.unitType,\n      selectedLocations: _this.props.loc\n    };\n    _this.unitTypeDetails = _this.unitTypeDetails.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.selectedLocationDetails = _this.selectedLocationDetails.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getUnites = _this.getUnites.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.next = _this.next.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ViewUnitType, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.unitTypeDetails();\n    }\n  }, {\n    key: \"next\",\n    value: function () {\n      var _next = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                history.push(\"/view-units\");\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function next() {\n        return _next.apply(this, arguments);\n      }\n\n      return next;\n    }()\n  }, {\n    key: \"unitTypeDetails\",\n    value: function () {\n      var _unitTypeDetails = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var business, unitsD;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios.get(\"http://localhost:3003/unitType/\", protectRoutes());\n\n              case 2:\n                business = _context2.sent;\n                unitsD = business.data.rows;\n                this.setState({\n                  unitTypeDetail: unitsD\n                });\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function unitTypeDetails() {\n        return _unitTypeDetails.apply(this, arguments);\n      }\n\n      return unitTypeDetails;\n    }()\n  }, {\n    key: \"selectedLocationDetails\",\n    value: function () {\n      var _selectedLocationDetails = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var results, availableUnitTypes;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return axios.get(\"http://localhost:3003/selectLocation/\" + this.props.loc, protectRoutes());\n\n              case 2:\n                results = _context3.sent;\n                availableUnitTypes = results.data;\n                console.log(\"availab\", availableUnitTypes);\n                this.setState({\n                  availableUnitType: availableUnitTypes\n                });\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function selectedLocationDetails() {\n        return _selectedLocationDetails.apply(this, arguments);\n      }\n\n      return selectedLocationDetails;\n    }()\n  }, {\n    key: \"getUnites\",\n    value: function getUnites(e) {\n      e.preventDefault();\n      this.props.selectedUnitType(e.target.value);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Available unit/(s)\"), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"blocks\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"unit-type\"), React.createElement(\"select\", {\n        onChange: this.getUnites,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"Select unit type\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Select Unit type:\"), this.state.availableUnitType.length > 0 ? this.state.availableUnitType.map(function (item) {\n        return React.createElement(\"option\", {\n          key: _this2.state.availableUnitType.indexOf(item),\n          value: item.business_name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, \" \", item.name, \" \", item.length, \"(L), \", item.width, \"(W), \", item.height, \"(H) \");\n      }) : null), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"customerNextButton\",\n        onClick: this.next,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"Next\"))));\n    }\n  }]);\n\n  return ViewUnitType;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    units: state.units.unitName,\n    business: state.viewBusiness.selectedBusiness,\n    unitType: state.selectUnitType.selectUnit,\n    loc: state.selectUnitType.selectedLocation,\n    availableUnitType: state.availableUnitType.unitTypeAvailable,\n    state: state\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    selectedUnitType: function selectedUnitType(unit) {\n      dispatch(actions.selectedUnits(unit));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewUnitType);","map":{"version":3,"sources":["/home/tcgpc1/workspace/Assignments/storage-system/storage-system/src/components/customer/selectUnitType.js"],"names":["React","connect","actions","axios","log","Field","reduxForm","Redirect","protectRoutes","history","ViewUnitType","props","state","unitTypeDetail","availableUnitType","redirect","selectedUnitType","unitType","selectedLocations","loc","unitTypeDetails","bind","selectedLocationDetails","getUnites","next","push","get","business","unitsD","data","rows","setState","results","availableUnitTypes","console","e","preventDefault","target","value","length","map","item","indexOf","business_name","name","width","height","Component","mapStateToProps","units","unitName","viewBusiness","selectedBusiness","selectUnitType","selectUnit","selectedLocation","unitTypeAvailable","mapDispatchToProps","dispatch","unit","selectedUnits"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/selectUnits';\nimport axios from 'axios';\nimport { log } from 'util';\nimport { Field, reduxForm } from 'redux-form';\nimport { Redirect } from 'react-router'\nimport { protectRoutes } from '../protectedRoutes'\nimport history from \"../../history\"\n\nclass ViewUnitType extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            unitTypeDetail: [],\n            availableUnitType: this.props.availableUnitType,\n            redirect: false,\n            selectedUnitType: this.props.unitType,\n            selectedLocations: this.props.loc,\n        }\n        this.unitTypeDetails = this.unitTypeDetails.bind(this);\n        this.selectedLocationDetails = this.selectedLocationDetails.bind(this);\n        this.getUnites = this.getUnites.bind(this)\n        this.next = this.next.bind(this)\n\n    }\n\n    componentDidMount() {\n        this.unitTypeDetails()\n    }\n\n    async next() {\n        history.push(\"/view-units\")\n    }\n    async unitTypeDetails() {\n        var business = await axios.get(\"http://localhost:3003/unitType/\", protectRoutes())\n        var unitsD = business.data.rows;\n        this.setState({ unitTypeDetail: unitsD })\n    }\n    async selectedLocationDetails() {\n        var results = await axios.get(\"http://localhost:3003/selectLocation/\" + this.props.loc, protectRoutes())\n        var availableUnitTypes = results.data\n        console.log(\"availab\",availableUnitTypes)\n        this.setState({ availableUnitType: availableUnitTypes })\n    }\n\n    getUnites(e) {\n        e.preventDefault()\n        this.props.selectedUnitType(e.target.value)\n    }\n\n    render() {\n        return (<div>\n            <h1>Available unit/(s)</h1>\n            <form >\n                <div className=\"blocks\">\n                    <h2 >unit-type</h2>\n                    <select onChange={this.getUnites}>\n                        <option value=\"Select unit type\">Select Unit type:</option>\n                        {this.state.availableUnitType.length > 0 ? this.state.availableUnitType.map(item => {\n                            return <option key={this.state.availableUnitType.indexOf(item)} value={item.business_name}> {item.name} {item.length}(L), {item.width}(W), {item.height}(H) </option>\n                        }) : null}\n                    </select><br />\n                    <button className='customerNextButton' onClick={this.next}>Next</button>\n                </div>\n            </form>\n        </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        units: state.units.unitName,\n        business: state.viewBusiness.selectedBusiness,\n        unitType: state.selectUnitType.selectUnit,\n        loc: state.selectUnitType.selectedLocation,\n        availableUnitType: state.availableUnitType.unitTypeAvailable,\n        state: state,\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        selectedUnitType: unit => {\n            dispatch(actions.selectedUnits(unit))\n        }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewUnitType)"]},"metadata":{},"sourceType":"module"}