{"ast":null,"code":"import _regeneratorRuntime from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/react/src/components/customer/selectUnitType.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../actions/selectUnits\";\nimport axios from \"axios\";\nimport { log } from \"util\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { Redirect } from \"react-router\";\nimport { protectRoutes } from \"../protectedRoutes\";\nimport history from \"../../history\";\n\nvar ViewUnitType =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ViewUnitType, _React$Component);\n\n  function ViewUnitType(props) {\n    var _this;\n\n    _classCallCheck(this, ViewUnitType);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ViewUnitType).call(this, props));\n    _this.state = {\n      unitTypeDetail: [],\n      availableUnitType: _this.props.availableUnitType,\n      redirect: false,\n      selectedUnitType: _this.props.unitType,\n      selectedLocations: _this.props.loc\n    };\n    _this.unitTypeDetails = _this.unitTypeDetails.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.selectedLocationDetails = _this.selectedLocationDetails.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getUnites = _this.getUnites.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.next = _this.next.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ViewUnitType, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.unitTypeDetails();\n      this.selectedLocationDetails();\n    }\n  }, {\n    key: \"next\",\n    value: function () {\n      var _next = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                history.push(\"/view-units\");\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function next() {\n        return _next.apply(this, arguments);\n      }\n\n      return next;\n    }()\n  }, {\n    key: \"unitTypeDetails\",\n    value: function () {\n      var _unitTypeDetails = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var business, unitsD;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios.get(\"http://localhost:3003/unitType/\", protectRoutes());\n\n              case 2:\n                business = _context2.sent;\n                unitsD = business.data.rows;\n                console.log(\"what is this\", unitsD);\n                this.setState({\n                  unitTypeDetail: unitsD\n                });\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function unitTypeDetails() {\n        return _unitTypeDetails.apply(this, arguments);\n      }\n\n      return unitTypeDetails;\n    }()\n  }, {\n    key: \"selectedLocationDetails\",\n    value: function () {\n      var _selectedLocationDetails = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var results, availableUnitTypes;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                console.log(\"what is this\", this.props.loc);\n                _context3.next = 3;\n                return axios.get(\"http://localhost:3003/selectLocation/\" + this.props.loc, protectRoutes());\n\n              case 3:\n                results = _context3.sent;\n                availableUnitTypes = results.data;\n                console.log(\"availab\", results);\n                this.setState({\n                  availableUnitType: availableUnitTypes\n                });\n\n              case 7:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function selectedLocationDetails() {\n        return _selectedLocationDetails.apply(this, arguments);\n      }\n\n      return selectedLocationDetails;\n    }()\n  }, {\n    key: \"getUnites\",\n    value: function getUnites(e) {\n      e.preventDefault();\n      this.props.selectedUnitType(e.target.value);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Available unit/(s)\"), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"blocks\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"unit-type\"), React.createElement(\"select\", {\n        onChange: this.getUnites,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"Select unit type\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Select Unit type:\"), this.state.availableUnitType.length > 0 ? this.state.availableUnitType.map(function (item) {\n        return React.createElement(\"option\", {\n          key: _this2.state.availableUnitType.indexOf(item),\n          value: \"\".concat(item.name, \" \").concat(item.length, \" \").concat(item.width, \" \").concat(item.height),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, \" \", item.name, \" \", item.length, \"(L), \", item.width, \"(W),\", \" \", item.height, \"(H)\", \" \");\n      }) : null), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"customerNextButton\",\n        onClick: this.next,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Next\"))));\n    }\n  }]);\n\n  return ViewUnitType;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    units: state.units.unitName,\n    business: state.viewBusiness.selectedBusiness,\n    unitType: state.selectUnitType.selectUnit,\n    loc: state.selectUnitType.selectedLocation,\n    availableUnitType: state.availableUnitType.unitTypeAvailable,\n    state: state\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    selectedUnitType: function selectedUnitType(unit) {\n      dispatch(actions.selectedUnits(unit));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewUnitType);","map":{"version":3,"sources":["/home/tcgpc1/workspace/Assignments/storage-system/storage-system/react/src/components/customer/selectUnitType.js"],"names":["React","connect","actions","axios","log","Field","reduxForm","Redirect","protectRoutes","history","ViewUnitType","props","state","unitTypeDetail","availableUnitType","redirect","selectedUnitType","unitType","selectedLocations","loc","unitTypeDetails","bind","selectedLocationDetails","getUnites","next","push","get","business","unitsD","data","rows","console","setState","results","availableUnitTypes","e","preventDefault","target","value","length","map","item","indexOf","name","width","height","Component","mapStateToProps","units","unitName","viewBusiness","selectedBusiness","selectUnitType","selectUnit","selectedLocation","unitTypeAvailable","mapDispatchToProps","dispatch","unit","selectedUnits"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../actions/selectUnits\";\nimport axios from \"axios\";\nimport { log } from \"util\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { Redirect } from \"react-router\";\nimport { protectRoutes } from \"../protectedRoutes\";\nimport history from \"../../history\";\n\nclass ViewUnitType extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      unitTypeDetail: [],\n      availableUnitType: this.props.availableUnitType,\n      redirect: false,\n      selectedUnitType: this.props.unitType,\n      selectedLocations: this.props.loc\n    };\n    this.unitTypeDetails = this.unitTypeDetails.bind(this);\n    this.selectedLocationDetails = this.selectedLocationDetails.bind(this);\n    this.getUnites = this.getUnites.bind(this);\n    this.next = this.next.bind(this);\n  }\n\n  componentDidMount() {\n    this.unitTypeDetails();\n    this.selectedLocationDetails();\n  }\n\n  async next() {\n    history.push(\"/view-units\");\n  }\n  async unitTypeDetails() {\n    var business = await axios.get(\n      \"http://localhost:3003/unitType/\",\n      protectRoutes()\n    );\n    var unitsD = business.data.rows;\n    console.log(\"what is this\", unitsD);\n    this.setState({ unitTypeDetail: unitsD });\n  }\n  async selectedLocationDetails() {\n    console.log(\"what is this\", this.props.loc);\n    var results = await axios.get(\n      \"http://localhost:3003/selectLocation/\" + this.props.loc,\n      protectRoutes()\n    );\n    var availableUnitTypes = results.data;\n    console.log(\"availab\", results);\n    this.setState({ availableUnitType: availableUnitTypes });\n  }\n\n  getUnites(e) {\n    e.preventDefault();\n    this.props.selectedUnitType(e.target.value);\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>Available unit/(s)</h1>\n        <form>\n          <div className=\"blocks\">\n            <h2>unit-type</h2>\n            <select onChange={this.getUnites}>\n              <option value=\"Select unit type\">Select Unit type:</option>\n              {this.state.availableUnitType.length > 0\n                ? this.state.availableUnitType.map(item => {\n                    return (\n                      <option\n                        key={this.state.availableUnitType.indexOf(item)}\n                        value={`${item.name} ${item.length} ${item.width} ${\n                          item.height\n                        }`}\n                      >\n                        {\" \"}\n                        {item.name} {item.length}(L), {item.width}(W),{\" \"}\n                        {item.height}(H){\" \"}\n                      </option>\n                    );\n                  })\n                : null}\n            </select>\n            <br />\n            <button className=\"customerNextButton\" onClick={this.next}>\n              Next\n            </button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    units: state.units.unitName,\n    business: state.viewBusiness.selectedBusiness,\n    unitType: state.selectUnitType.selectUnit,\n    loc: state.selectUnitType.selectedLocation,\n    availableUnitType: state.availableUnitType.unitTypeAvailable,\n    state: state\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    selectedUnitType: unit => {\n      dispatch(actions.selectedUnits(unit));\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ViewUnitType);\n"]},"metadata":{},"sourceType":"module"}