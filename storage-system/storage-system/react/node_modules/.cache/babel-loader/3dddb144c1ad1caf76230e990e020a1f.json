{"ast":null,"code":"import _regeneratorRuntime from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/tcgpc1/workspace/Assignments/storage-system/storage-system/react/src/components/business/forms/units.js\";\nimport React from \"react\";\nimport * as actions from \"../../../actions/units\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport { protectRoutes } from \"../../protectedRoutes\";\nimport history from \"../../../history\";\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport { log } from \"util\";\n\nvar Units =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Units, _React$Component);\n\n  function Units(props) {\n    var _this;\n\n    _classCallCheck(this, Units);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Units).call(this, props));\n    _this.state = {\n      name: _this.props.units,\n      selectedUnitType: _this.props.unitType,\n      unitTypeDetail: [],\n      redirect: false\n    };\n    _this.unitName = _this.unitName.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.unitTypeDetails = _this.unitTypeDetails.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.unitsDetails = _this.unitsDetails.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.next = _this.next.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Units, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.unitTypeDetails();\n    }\n  }, {\n    key: \"unitName\",\n    value: function unitName(e) {\n      var change = {};\n      change[e.target.name] = e.target.value;\n      this.props.availableUnits(e.target.value);\n      this.setState(change);\n    }\n  }, {\n    key: \"unitTypeDetails\",\n    value: function () {\n      var _unitTypeDetails = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var results, unitType;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(\"http://localhost:3003/unitType/\", protectRoutes());\n\n              case 2:\n                results = _context.sent;\n                unitType = results.data.rows;\n                this.setState({\n                  unitTypeDetail: unitType\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function unitTypeDetails() {\n        return _unitTypeDetails.apply(this, arguments);\n      }\n\n      return unitTypeDetails;\n    }()\n  }, {\n    key: \"unitsDetails\",\n    value: function () {\n      var _unitsDetails = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(e) {\n        var findTheItem, unitType, results, units, unitsResults;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                e.preventDefault();\n                findTheItem = this.props.unitType.split(\" \");\n                unitType = this.state.unitTypeDetail;\n                results = unitType.find(function (item) {\n                  return item.name === findTheItem[0] && item.length === +findTheItem[1] && item.width === +findTheItem[2] && item.height === +findTheItem[3];\n                });\n                units = {\n                  name: this.props.units,\n                  id: this.state.unitTypeDetail,\n                  selectedUnit: this.props.unitType,\n                  selectedBusiness: this.props.business,\n                  foundObject: results\n                };\n                _context2.next = 7;\n                return axios.post(\"http://localhost:3003/units/\", units);\n\n              case 7:\n                unitsResults = _context2.sent;\n                console.log(\"results\", unitsResults);\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function unitsDetails(_x) {\n        return _unitsDetails.apply(this, arguments);\n      }\n\n      return unitsDetails;\n    }()\n  }, {\n    key: \"next\",\n    value: function next(e) {\n      e.preventDefault();\n      history.push(\"/business\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"topnav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: '/business',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Business\"), React.createElement(Link, {\n        to: '/view-business',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"view-business\"), React.createElement(Link, {\n        to: '/location',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Location\"), React.createElement(Link, {\n        to: '/blocks',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"blocks\"), React.createElement(Link, {\n        to: '/view-blocks',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"view-blocks\"), React.createElement(Link, {\n        to: '/unit-type',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"unit-type\"), React.createElement(Link, {\n        to: '/units',\n        className: \"active\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"units\"), React.createElement(Link, {\n        to: '/log-out',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Log-out\"), React.createElement(Link, {\n        to: '/business-unites',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"View Reserved unites\")), React.createElement(\"div\", {\n        className: \"selectedUnit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Available unit types\"), React.createElement(\"select\", {\n        onChange: function onChange(e) {\n          _this2.props.selectedUnitType(e.target.value);\n\n          console.log(\"e.target.value\", e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"Select unit type\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Select Unit type:\"), this.state.unitTypeDetail.length > 0 ? this.state.unitTypeDetail.map(function (item) {\n        return React.createElement(\"option\", {\n          key: _this2.state.unitTypeDetail.indexOf(item),\n          value: \"\".concat(item.name, \" \").concat(item.length, \" \").concat(item.width, \" \").concat(item.height),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, \" \", item.name, \" \", item.length, \"(L), \", item.width, \"(W),\", \" \", item.height, \"(H)\", \" \");\n      }) : null)), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"business\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Unit Name:\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        name: \"name\",\n        type: \"text\",\n        onChange: this.unitName,\n        value: this.state.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn\",\n        onClick: this.unitsDetails,\n        disabled: !this.state.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"add\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"next\",\n        onClick: this.next,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Done\"))));\n    }\n  }]);\n\n  return Units;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    units: state.units.unitName,\n    business: state.viewBusiness.selectedBusiness,\n    unitType: state.units.selectedUnit,\n    state: state\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    availableUnits: function availableUnits(name) {\n      dispatch(actions.unitName(name));\n    },\n    selectedUnitType: function selectedUnitType(unit) {\n      dispatch(actions.selectedUnit(unit));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Units);","map":{"version":3,"sources":["/home/tcgpc1/workspace/Assignments/storage-system/storage-system/react/src/components/business/forms/units.js"],"names":["React","actions","connect","axios","protectRoutes","history","BrowserRouter","Router","Route","Link","log","Units","props","state","name","units","selectedUnitType","unitType","unitTypeDetail","redirect","unitName","bind","unitTypeDetails","unitsDetails","next","e","change","target","value","availableUnits","setState","get","results","data","rows","preventDefault","findTheItem","split","find","item","length","width","height","id","selectedUnit","selectedBusiness","business","foundObject","post","unitsResults","console","push","map","indexOf","Component","mapStateToProps","viewBusiness","mapDispatchToProps","dispatch","unit"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport * as actions from \"../../../actions/units\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport { protectRoutes } from \"../../protectedRoutes\";\nimport history from \"../../../history\";\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport { log } from \"util\";\n\nclass Units extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: this.props.units,\n      selectedUnitType: this.props.unitType,\n      unitTypeDetail: [],\n      redirect: false\n    };\n    this.unitName = this.unitName.bind(this);\n    this.unitTypeDetails = this.unitTypeDetails.bind(this);\n    this.unitsDetails = this.unitsDetails.bind(this);\n    this.next = this.next.bind(this);\n  }\n\n  componentDidMount() {\n    this.unitTypeDetails();\n  }\n\n  unitName(e) {\n    var change = {};\n    change[e.target.name] = e.target.value;\n    this.props.availableUnits(e.target.value);\n    this.setState(change);\n  }\n  async unitTypeDetails() {\n    var results = await axios.get(\n      \"http://localhost:3003/unitType/\",\n      protectRoutes()\n    );\n    var unitType = results.data.rows;\n    this.setState({ unitTypeDetail: unitType });\n  }\n\n  async unitsDetails(e) {\n    e.preventDefault();\n    var findTheItem = this.props.unitType.split(\" \");\n    var unitType = this.state.unitTypeDetail;\n    var results = unitType.find(item => {\n      return (\n        item.name === findTheItem[0] &&\n        item.length === +findTheItem[1] &&\n        item.width === +findTheItem[2] &&\n        item.height === +findTheItem[3]\n      );\n    });\n    var units = {\n      name: this.props.units,\n      id: this.state.unitTypeDetail,\n      selectedUnit: this.props.unitType,\n      selectedBusiness: this.props.business,\n      foundObject: results\n    };\n    var unitsResults = await axios.post(\"http://localhost:3003/units/\", units);\n    console.log(\"results\", unitsResults);\n  }\n  next(e) {\n    e.preventDefault();\n    history.push(\"/business\");\n  }\n\n  render() {\n    return (\n      <div>\n    <div className=\"topnav\">\n    < Link to={'/business'} >Business</Link>\n    <Link to={'/view-business'} >view-business</Link>\n    <Link to={'/location'} >Location</Link>\n    <Link to={'/blocks'} >blocks</Link>\n    <Link to={'/view-blocks'} >view-blocks</Link>\n    <Link to={'/unit-type'} >unit-type</Link>\n    <Link to={'/units'} className=\"active\">units</Link>\n    <Link to={'/log-out'}>Log-out</Link>\n    <Link to={'/business-unites'}>View Reserved unites</Link>\n</div>\n        <div className=\"selectedUnit\">\n          <p>Available unit types</p>\n          <select\n            onChange={e => {\n              this.props.selectedUnitType(e.target.value);\n              console.log(\"e.target.value\", e.target.value);\n            }}\n          >\n            <option value=\"Select unit type\">Select Unit type:</option>\n            {this.state.unitTypeDetail.length > 0\n              ? this.state.unitTypeDetail.map(item => {\n                  return (\n                    <option\n                      key={this.state.unitTypeDetail.indexOf(item)}\n                      value={`${item.name} ${item.length} ${item.width} ${\n                        item.height\n                      }`}\n                    >\n                      {\" \"}\n                      {item.name} {item.length}(L), {item.width}(W),{\" \"}\n                      {item.height}(H){\" \"}\n                    </option>\n                  );\n                })\n              : null}\n          </select>\n        </div>\n\n        <form>\n          <div className=\"business\">\n            <div>\n              <label htmlFor=\"name\">Unit Name:</label>\n              <br />\n              <input\n                name=\"name\"\n                type=\"text\"\n                onChange={this.unitName}\n                value={this.state.name}\n              />{\" \"}<br/>\n              <button\n                className=\"btn\"\n                onClick={this.unitsDetails}\n                disabled={!this.state.name}\n              >\n                add\n              </button>\n            </div>\n            <br />\n            <div />\n            <br />\n            <button className=\"next\" onClick={this.next}>\n              Done\n            </button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    units: state.units.unitName,\n    business: state.viewBusiness.selectedBusiness,\n    unitType: state.units.selectedUnit,\n    state: state\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    availableUnits: name => {\n      dispatch(actions.unitName(name));\n    },\n    selectedUnitType: unit => {\n      dispatch(actions.selectedUnit(unit));\n    }\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Units);\n"]},"metadata":{},"sourceType":"module"}